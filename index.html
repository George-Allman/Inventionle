<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Google tag (gtag.js) -->
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=G-87HN7VX7J6"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());

      gtag("config", "G-87HN7VX7J6");
    </script>
    <meta charset="UTF-8" />
    <meta
      name="description"
      content="Inventionle is an exciting daily challenge game. Guess when, where and by who inventions were made."
    />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Inventionle</title>
    <link
      rel="icon"
      type="image/x-icon"
      href="resources/favicon.ico"
      ‚úÖ
      Leaflet
      CSS
      --
    />
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />

    <!-- ‚úÖ Your Styles -->
    <link rel="stylesheet" href="css/style.css" />
  </head>

  <body>
    <!-- Overlay Container -->
    <div id="modal-overlay" class="hidden">
      <div id="active-modal" class="modal-content"></div>
    </div>

    <!-- Templates for each modal -->
    <template id="settings-modal-template">
      <div>
        <div class="modal-title" id="settings-title">Settings</div>
        <div class="settings-bar">
          <p>Light Theme</p>
          <label class="settings-toggle">
            <input id="light-theme-toggle" type="checkbox" />
            <span class="slider"></span>
          </label>
        </div>
        <br />
        <button class="modal-navigation-btn" onclick="closeModal()">
          Done
        </button>
      </div>
    </template>

    <template id="account-modal-template">
      <div>
        <div class="modal-title" id="account-title">Log-in</div>
        <br />
        <input
          type="text"
          id="email-input"
          class="log-in-field"
          placeholder="Email"
        />
        <br />
        <br />
        <input
          type="text"
          id="password-input"
          class="log-in-field"
          placeholder="Password"
        />
        <br />
        <br />
        <div class="login-text">
          Not a member?
          <button class="text-button" id="sign-up-button">Sign up</button>
        </div>
        <br />

        <button class="modal-navigation-btn" id="login-button">Log in</button>
      </div>
    </template>

    <template id="stats-modal-template">
      <div>
        <div class="modal-title" id="stats-title">Statistics</div>
        <div class="stats">
          <div class="stat">
            <div class="number" id="played-stat">90</div>
            <div class="label">Played</div>
          </div>
          <div class="stat">
            <div class="number" id="win-stat">89</div>
            <div class="label">Win %</div>
          </div>
          <div class="stat">
            <div class="number" id="avg-stat">89</div>
            <div class="label">
              Average <br />
              Score
            </div>
          </div>
          <!-- <div class="stat">
            <div class="number" id="streak-stat">0</div>
            <div class="label">Streak</div>
          </div> -->
        </div>
        <button class="modal-navigation-btn" onclick="closeModal()">
          Done
        </button>
      </div>
    </template>

    <template id="help-modal-template">
      <div>
        <div class="modal-title" id="help-title">How to play</div>
        <br />
        <p>
          Each day a new invention is generated. Guess when, where and by who it
          was made
        </p>
        <br />
        <p>‚Ä¢ Place a pin on the map where the invention occured</p>
        <p>‚Ä¢ Estimate the year it occured</p>
        <p>‚Ä¢ Name the inventor</p>
        <br />
        <p>Scores are out of 5000:</p>
        <p>‚Ä¢ 2000 points for location</p>
        <p>‚Ä¢ 2000 points for year</p>
        <p>‚Ä¢ 1000 points for name</p>
        <br />
        <p>A winning score is greater than 3500</p>
        <br />
        <button class="modal-navigation-btn" onclick="closeModal()">
          Got it!
        </button>
      </div>
    </template>

    <!-- ‚úÖ HEADER -->
    <div class="header">
      <div class="header-left">
        <div class="app-icon">
          <img
            src="resources/Inventional Logo.png"
            class="icon"
            width="40px"
            height="40px"
          />
        </div>
        <span class="app-name">Inventionle</span>
      </div>
      <div class="header-right">
        <div class="navigation-container">
          <button id="stats-button" class="icon-button">
            <img src="resources/statsLogo.png" alt="Stats" />
          </button>
        </div>
        <div class="navigation-container">
          <button id="help-button" class="icon-button">
            <img src="resources/helpIcon.png" alt="Help" />
          </button>
        </div>
        <div class="navigation-container">
          <button id="settings-button" class="icon-button">
            <img
              style="filter: invert(1)"
              src="resources/settingsIcon.png"
              alt="Settings"
            />
          </button>
        </div>
        <!-- <div class="navigation-container">
                <button id="account-button" class="icon-button">
                    <img src="resources/accountLogo.png" alt="Account" />
                </button>
            </div> -->
      </div>
    </div>
    <div class="layout">
      <!-- ‚úÖ MAIN BODY -->
      <div style="display: none" id="results" class="main">
        <div class="center-column">
          <div id="result-explanation" class="explanation">
            Loading Results...
          </div>
          <br />

          <div
            id="result-map"
            style="height: 300px; width: 100%; border-radius: 10px"
          ></div>

          <div id="score-bar" class="score-bar">Score:</div>

          <div class="win-details">
            <div class="win-detail">
              <label>üìç Location:</label>
              <div class="bar-row">
                <div class="bar">
                  <div class="fill" id="location-bar" style="width: 0%"></div>
                </div>
                <div class="bar-labels">
                  <strong id="location-answerB">New York City</strong
                  ><small id="location-answerS">Your guess: 130 km away</small>
                </div>
              </div>
            </div>

            <div class="win-detail">
              <label>üìÖ Year:</label>
              <div class="bar-row">
                <div class="bar">
                  <div class="fill" id="year-bar" style="width: 0%"></div>
                </div>
                <div class="bar-labels">
                  <strong id="year-answerB"></strong
                  ><small id="year-answerS"></small>
                </div>
              </div>
            </div>

            <div class="win-detail">
              <label>üë§ Name:</label>
              <div class="bar-row">
                <div class="bar">
                  <div class="fill" id="name-bar" style="width: 0%"></div>
                </div>
                <div class="bar-labels">
                  <strong id="person-answerB"></strong
                  ><small id="person-answerS"></small>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div id="main" class="main">
        <div class="center-column">
          <div id="explanation" class="explanation">Today's invention is:</div>
          <div class="prompt" id="prompt"></div>

          <div
            id="map"
            style="height: 300px; width: 100%; border-radius: 10px"
          ></div>

          <div class="year-selector">
            <button id="yearMinus1" class="year-btn">-1</button>
            <button id="yearMinus10" class="year-btn">-10</button>
            <input
              type="text"
              id="yearDisplay"
              class="year-display"
              value="2025"
              maxlength="5"
              inputmode="numeric"
              pattern="-?\d{1,4}"
              autocomplete="off"
            />
            <button id="yearPlus10" class="year-btn">+10</button>
            <button id="yearPlus1" class="year-btn">+1</button>
          </div>

          <div class="person-input">
            <input id="name-input" type="text" placeholder="Who...?" />
          </div>

          <div class="guess-button">
            <button id="guess-btn" class="guess disabled" disabled>
              Guess
            </button>
          </div>
        </div>
      </div>

      <div class="sidebar">
        <button class="sidebar-header" id="sidebar-header">Past Games</button>
        <div class="sidebar-body" id="sidebar-body">
          <ul class="game-list" id="game-list"></ul>
        </div>
      </div>

      <div class="donation">
        <p style="text-align: center;">
          To keep the game ad free and maintained, please&nbsp;<button
            class="donation-button"
            id="donation-button"
          >
            Donate
          </button>
        </p>
        <br />
        <p style="text-align: center;">
          Give feedback&nbsp;<button
            class="donation-button"
            id="email-button"
          >
            here
          </button>
        </p>
      </div>
    </div>

    <!-- ‚úÖ JS SCRIPTS IN PROPER ORDER -->
    <!-- 1. Leaflet JS -->
    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <script src="js/mapHandler.js"></script>
    <script src="js/donationHandler.js"></script>
    <script src="js/yearHandler.js"></script>
    <script src="js/modalHandler.js"></script>
    <script src="js/main.js"></script>
  </body>
</html>
